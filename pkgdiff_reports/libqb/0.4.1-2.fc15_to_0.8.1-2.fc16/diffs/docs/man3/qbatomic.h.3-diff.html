<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux aponomarenko 3.0.0-16-generic #28-Ubuntu SMP Fri Jan 27 17:44:39 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 3.1.8 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.0 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 0.6.5 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: qbatomic.h.3 - qbatomic.h.3</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;qbatomic.h.3&nbsp;</th><th> </th><th>&nbsp;qbatomic.h.3&nbsp;</th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left">qbatomic.h(3)                                                              
                                      libqb                                
                                                                   qbatomic
.h(3)</td><td> </td><td class="right">qbatomic.h(3)                                                              
                                      libqb                                
                                                                   qbatomic
.h(3)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">NAME</td><td> </td><td class="right">NAME</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qbatomic.h -</td><td> </td><td class="right">       qbatomic.h -</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Basic atomic integer and pointer operations.</td><td> </td><td class="rblock">       Basic atomic integer and pointer operations<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">SYNOPSIS</td><td> </td><td class="right">SYNOPSIS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       #include &lt;stdint.h&gt;</td><td> </td><td class="right">       #include &lt;stdint.h&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       #include &lt;qb/qbdefs.h&gt;</td><td> </td><td class="right">       #include &lt;qb/qbdefs.h&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       #include &lt;qb/qbconfig.h&gt;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Defines</td><td> </td><td class="right">   Defines</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       #define qb_atomic_int_get(atomic)   <span class="delete">((int32_t)*(atomic))</span></td><td> </td><td class="rblock">       #define qb_atomic_int_get(atomic)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       #define qb_atomic_int_set(atomic, newval)   <span class="delete">((void) (*(atomic) = (ne</span></td><td> </td><td class="rblock">       #define qb_atomic_int_set(atomic, newval)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">wval)))</span></td><td> </td><td class="rblock">       #define qb_atomic_pointer_get(atomic)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       #define qb_atomic_pointer_get(atomic)   <span class="delete">((void*)*(atomic))</span></td><td> </td><td class="rblock">       #define qb_atomic_pointer_set(atomic, newval)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       #define qb_atomic_pointer_set(atomic, newval)   <span class="delete">((void) (*(atomic) =</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> (newval)))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       #define qb_atomic_int_inc(atomic)   (qb_atomic_int_add ((atomic), 1)
)</td><td> </td><td class="right">       #define qb_atomic_int_inc(atomic)   (qb_atomic_int_add ((atomic), 1)
)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Atomically increments the integer pointed to by atomic by 1.</td><td> </td><td class="rblock">           Atomically increments the integer pointed to by atomic by 1<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       #define qb_atomic_int_dec_and_test(atomic)   (qb_atomic_int_exchange
_and_add ((atomic), -1) == 1)</td><td> </td><td class="right">       #define qb_atomic_int_dec_and_test(atomic)   (qb_atomic_int_exchange
_and_add ((atomic), -1) == 1)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Atomically decrements the integer pointed to by atomic by 1.</td><td> </td><td class="rblock">           Atomically decrements the integer pointed to by atomic by 1<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Functions</td><td> </td><td class="right">   Functions</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void qb_atomic_init (void)</td><td> </td><td class="right">       void qb_atomic_init (void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int32_t qb_atomic_int_exchange_and_add (volatile int32_t QB_GNUC_MAY
_ALIAS *atomic, int32_t val)</td><td> </td><td class="right">       int32_t qb_atomic_int_exchange_and_add (volatile int32_t QB_GNUC_MAY
_ALIAS *atomic, int32_t val)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Atomically adds val to the integer pointed to by atomic.</td><td> </td><td class="rblock">           Atomically adds val to the integer pointed to by atomic<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void qb_atomic_int_add (volatile int32_t QB_GNUC_MAY_ALIAS *atomic, 
int32_t val)</td><td> </td><td class="right">       void qb_atomic_int_add (volatile int32_t QB_GNUC_MAY_ALIAS *atomic, 
int32_t val)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Atomically adds val to the integer pointed to by atomic.</td><td> </td><td class="rblock">           Atomically adds val to the integer pointed to by atomic<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int32_t qb_atomic_int_compare_and_exchange (volatile int32_t QB_GNUC
_MAY_ALIAS *atomic, int32_t oldval, int32_t newval)</td><td> </td><td class="right">       int32_t qb_atomic_int_compare_and_exchange (volatile int32_t QB_GNUC
_MAY_ALIAS *atomic, int32_t oldval, int32_t newval)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Compares oldval with the integer pointed to by atomic and if the
y are equal, atomically exchanges *atomic with newval.</td><td> </td><td class="rblock">           Compares oldval with the integer pointed to by atomic and if the
y are equal, atomically exchanges *atomic with newval<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int32_t qb_atomic_pointer_compare_and_exchange (volatile void *QB_GN
UC_MAY_ALIAS *atomic, void *oldval, void *newval)</td><td> </td><td class="right">       int32_t qb_atomic_pointer_compare_and_exchange (volatile void *QB_GN
UC_MAY_ALIAS *atomic, void *oldval, void *newval)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Compares oldval with the pointer pointed to by atomic and if the
y are equal, atomically exchanges *atomic with newval.</td><td> </td><td class="rblock">           Compares oldval with the pointer pointed to by atomic and if the
y are equal, atomically exchanges *atomic with newval<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int32_t qb_atomic_int_get (volatile int32_t QB_GNUC_MAY_ALIAS *atomi
c)</td><td> </td><td class="right">       int32_t qb_atomic_int_get (volatile int32_t QB_GNUC_MAY_ALIAS *atomi
c)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Reads the value of the integer pointed to by atomic.</td><td> </td><td class="rblock">           Reads the value of the integer pointed to by atomic<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void qb_atomic_int_set (volatile int32_t QB_GNUC_MAY_ALIAS *atomic, 
int32_t newval)</td><td> </td><td class="right">       void qb_atomic_int_set (volatile int32_t QB_GNUC_MAY_ALIAS *atomic, 
int32_t newval)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Sets the value of the integer pointed to by atomic.</td><td> </td><td class="rblock">           Sets the value of the integer pointed to by atomic<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void * qb_atomic_pointer_get (volatile void *QB_GNUC_MAY_ALIAS *atom
ic)</td><td> </td><td class="right">       void * qb_atomic_pointer_get (volatile void *QB_GNUC_MAY_ALIAS *atom
ic)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Reads the value of the pointer pointed to by atomic.</td><td> </td><td class="rblock">           Reads the value of the pointer pointed to by atomic<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void qb_atomic_pointer_set (volatile void *QB_GNUC_MAY_ALIAS *atomic
, void *newval)</td><td> </td><td class="right">       void qb_atomic_pointer_set (volatile void *QB_GNUC_MAY_ALIAS *atomic
, void *newval)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Sets the value of the pointer pointed to by atomic.</td><td> </td><td class="rblock">           Sets the value of the pointer pointed to by atomic<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Detailed Description</td><td> </td><td class="right">Detailed Description</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Basic atomic integer and pointer operations.</td><td> </td><td class="rblock">       Basic atomic integer and pointer operations<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       The following functions can be used to atomically access integers an</td><td> </td><td class="rblock">       The following functions can be used to atomically access integers an</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">d <span class="delete">pointers.</span> They are implemented as inline assembler function on most <span class="delete">platf</span></td><td> </td><td class="rblock">d <span class="insert">pointers'.</span> They are implemented as inline assembler function on most <span class="insert">plat</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">orms</span> and use slower fall-backs <span class="delete">otherwise.</span> Using them can sometimes save <span class="delete">you</span></td><td> </td><td class="rblock"><span class="insert">forms</span> and use slower fall-backs <span class="insert">otherwise'.</span> Using them can sometimes save <span class="insert">y</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> from</td><td> </td><td class="rblock"><span class="insert">ou</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       using a performance-expensive pthread_mutex to protect the <span class="delete">integer o</span></td><td> </td><td class="rblock">       from using a performance-expensive pthread_mutex to protect the <span class="insert">inte</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">r pointer.</span></td><td> </td><td class="rblock"><span class="insert">ger or pointer'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       The most important usage is reference counting<span class="delete">. Using qb_atomic_int_
inc() and qb_atomic_int_dec_and_test() makes reference counting a very fast
 operation</span>.</td><td> </td><td class="rblock">       The most important usage is reference counting<span class="insert">'. Using qb_atomic_int
_inc() and qb_atomic_int_dec_and_test() makes reference counting a very fas
t operation'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       You must not directly read integers or pointers concurrently accesse</td><td> </td><td class="rblock">       You must not directly read integers or pointers concurrently accesse</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">d by multiple threads, but use the atomic accessor functions <span class="delete">instead.</span> That </td><td> </td><td class="rblock">d by multiple threads, but use the atomic accessor functions <span class="insert">instead'.</span> That</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">is, always use qb_atomic_int_get() and qb_atomic_pointer_get() for read <span class="delete">out</span></td><td> </td><td class="rblock"> is, always use qb_atomic_int_get() and qb_atomic_pointer_get() for read <span class="insert">ou</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">s.</span></td><td> </td><td class="rblock"><span class="insert">ts'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       They provide the neccessary synchonization mechanisms like memory ba</td><td> </td><td class="rblock">       They provide the neccessary synchonization mechanisms like memory ba</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">rriers to access memory locations <span class="delete">concurrently.</span></td><td> </td><td class="rblock">rriers to access memory locations <span class="insert">concurrently'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       If you are using those functions for anything apart from simple refe</td><td> </td><td class="rblock">       If you are using those functions for anything apart from simple refe</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">rence counting, you should really be aware of the implications of doing tha</td><td> </td><td class="rblock">rence counting, you should really be aware of the implications of doing tha</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">t.</span> There are literally thousands of ways to shoot yourself in the <span class="delete">foot. So</span> </td><td> </td><td class="rblock"><span class="insert">t'.</span> There are literally thousands of ways to shoot yourself in the <span class="insert">foot'. S</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">if in</td><td> </td><td class="rblock"><span class="insert">o</span> if</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       doubt, use a <span class="delete">pthread_mutex.</span> If you don't know, what memory <span class="delete">barriers</span> </td><td> </td><td class="rblock">       in doubt, use a <span class="insert">pthread_mutex'.</span> If you don't know, what memory <span class="insert">barri</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">are, do not use anything but qb_atomic_int_inc() and <span class="delete">qb_atomic_int_dec_and_</span></td><td> </td><td class="rblock"><span class="insert">ers</span> are, do not use anything but qb_atomic_int_inc() and <span class="insert">qb_atomic_int_dec_</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">test().</span></td><td> </td><td class="rblock"><span class="insert">and_test()'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       It is not safe to set an integer or pointer just by assigning to it,</td><td> </td><td class="rblock">       It is not safe to set an integer or pointer just by assigning to it,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> when it is concurrently accessed by other threads with the following funct</td><td> </td><td class="rblock"> when it is concurrently accessed by other threads with the following funct</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ions.</span> Use qb_atomic_int_compare_and_exchange() or</td><td> </td><td class="rblock"><span class="insert">ions'.</span> Use qb_atomic_int_compare_and_exchange() or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       qb_atomic_pointer_compare_and_exchange() <span class="delete">respectively.</span></td><td> </td><td class="rblock">       qb_atomic_pointer_compare_and_exchange() <span class="insert">respectively'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Define Documentation</td><td> </td><td class="right">Define Documentation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   #define qb_atomic_int_dec_and_test(atomic)   (qb_atomic_int_exchange_and
_add ((atomic), -1) == 1)</td><td> </td><td class="right">   #define qb_atomic_int_dec_and_test(atomic)   (qb_atomic_int_exchange_and
_add ((atomic), -1) == 1)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Atomically decrements the integer pointed to by atomic by 1<span class="delete">. Paramet
</span>ers:</td><td> </td><td class="rblock">       Atomically decrements the integer pointed to by atomic by 1<span class="insert">'. Parame
t</span>ers:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           atomic a pointer to an integer</td><td> </td><td class="right">           atomic a pointer to an integer</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Returns:</td><td> </td><td class="right">       Returns:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           QB_TRUE if the integer pointed to by atomic is 0 after decrement
ing it</td><td> </td><td class="right">           QB_TRUE if the integer pointed to by atomic is 0 after decrement
ing it</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   #define qb_atomic_int_get(atomic)   <span class="delete">((int32_t)*(atomic))</span></td><td> </td><td class="rblock">   #define qb_atomic_int_get(atomic) <span class="insert">Value:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       ((void) sizeof (char* [sizeof (*(atomic)) == sizeof (int32_t) ? 1 : </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">-1]),   (qb_atomic_int_get) ((volatile int32_t QB_GNUC_MAY_ALIAS *) (volati</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">le void *) (atomic)))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   #define qb_atomic_int_inc(atomic)   (qb_atomic_int_add ((atomic), 1))</td><td> </td><td class="right">   #define qb_atomic_int_inc(atomic)   (qb_atomic_int_add ((atomic), 1))</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Atomically increments the integer pointed to by atomic by <span class="delete">1. Paramet</span></td><td> </td><td class="rblock">       Atomically increments the integer pointed to by atomic by <span class="insert">1'. Parame</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ers:</span></td><td> </td><td class="rblock"><span class="insert">ters:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           atomic a pointer to an <span class="delete">integer.</span></td><td> </td><td class="rblock">           atomic a pointer to an <span class="insert">integer'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   #define qb_atomic_int_set(atomic, newval) Value:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       ((void) sizeof (char* [sizeof (*(atomic)) == sizeof (int32_t) ? 1 : </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">-1]),   (qb_atomic_int_set) ((volatile int32_t QB_GNUC_MAY_ALIAS *) (volati</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">le void *) (atomic), (newval)))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   #define qb_atomic_pointer_get(atomic) Value:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       ((void) sizeof (char* [sizeof (*(atomic)) == sizeof (void*) ? 1 : -1</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">]),   (qb_atomic_pointer_get) ((volatile void* QB_GNUC_MAY_ALIAS *) (volati</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">le void *) (atomic)))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   #define qb_atomic_pointer_set(atomic, newval) Value:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       ((void) sizeof (char* [sizeof (*(atomic)) == sizeof (void*) ? 1 : -1</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">]),   (qb_atomic_pointer_set) ((volatile void* QB_GNUC_MAY_ALIAS *) (volati</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">le void *) (atomic), (newval)))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">#define qb_atomic_int_set(atomic, newval)   ((void) (*(atomic) = (newval</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">)))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   #define qb_atomic_pointer_get(atomic)   ((void*)*(atomic))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   #define qb_atomic_pointer_set(atomic, newval)   ((void) (*(atomic) = (ne</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">wval)))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Function Documentation</td><td> </td><td class="right">Function Documentation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   void qb_atomic_init (void)</td><td> </td><td class="right">   void qb_atomic_init (void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   void qb_atomic_int_add (volatile int32_t QB_GNUC_MAY_ALIAS <span class="delete">* atomic, int</span></td><td> </td><td class="rblock">   void qb_atomic_int_add (volatile int32_t QB_GNUC_MAY_ALIAS <span class="insert">*atomic, int3</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">32_t val)</span></td><td> </td><td class="rblock"><span class="insert">2_tval)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Atomically adds val to the integer pointed to by <span class="delete">atomic.</span> Also acts <span class="delete">a</span></td><td> </td><td class="rblock">       Atomically adds val to the integer pointed to by <span class="insert">atomic'.</span> Also acts </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">s</span> a memory <span class="delete">barrier.</span></td><td> </td><td class="rblock"><span class="insert">as</span> a memory <span class="insert">barrier'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Parameters:</td><td> </td><td class="right">       Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           atomic a pointer to an integer</td><td> </td><td class="right">           atomic a pointer to an integer</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           val the value to add to *atomic</td><td> </td><td class="right">           val the value to add to *atomic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   int32_t qb_atomic_int_compare_and_exchange (volatile int32_t QB_GNUC_MAY</td><td> </td><td class="rblock">   int32_t qb_atomic_int_compare_and_exchange (volatile int32_t QB_GNUC_MAY</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">_ALIAS <span class="delete">* atomic, int32_t oldval, int32_t newval)</span></td><td> </td><td class="rblock">_ALIAS <span class="insert">*atomic, int32_toldval, int32_tnewval)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Compares oldval with the integer pointed to by atomic and if they ar</td><td> </td><td class="rblock">       Compares oldval with the integer pointed to by atomic and if they ar</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">e equal, atomically exchanges *atomic with <span class="delete">newval.</span> Also acts as a memory <span class="delete">ba</span></td><td> </td><td class="rblock">e equal, atomically exchanges *atomic with <span class="insert">newval'.</span> Also acts as a memory <span class="insert">b</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">rrier.</span></td><td> </td><td class="rblock"><span class="insert">arrier'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Parameters:</td><td> </td><td class="right">       Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           atomic a pointer to an integer</td><td> </td><td class="right">           atomic a pointer to an integer</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           oldval the assumed old value of *atomic</td><td> </td><td class="right">           oldval the assumed old value of *atomic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           newval the new value of *atomic</td><td> </td><td class="right">           newval the new value of *atomic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Returns:</td><td> </td><td class="right">       Returns:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           QB_TRUE, if *atomic was equal oldval<span class="delete">. QB_FALSE otherwise</span>.</td><td> </td><td class="rblock">           QB_TRUE, if *atomic was equal oldval<span class="insert">'. QB_FALSE otherwise'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   int32_t qb_atomic_int_exchange_and_add (volatile int32_t QB_GNUC_MAY_ALI</td><td> </td><td class="rblock">   int32_t qb_atomic_int_exchange_and_add (volatile int32_t QB_GNUC_MAY_ALI</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">AS <span class="delete">* atomic, int32_t val)</span></td><td> </td><td class="rblock">AS <span class="insert">*atomic, int32_tval)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Atomically adds val to the integer pointed to by <span class="delete">atomic.</span> It returns </td><td> </td><td class="rblock">       Atomically adds val to the integer pointed to by <span class="insert">atomic'.</span> It returns</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">the value of *atomic just before the addition took <span class="delete">place.</span> Also acts as a <span class="delete">me</span></td><td> </td><td class="rblock"> the value of *atomic just before the addition took <span class="insert">place'.</span> Also acts as a </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">mory barrier.</span></td><td> </td><td class="rblock"><span class="insert">memory barrier'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Parameters:</td><td> </td><td class="right">       Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           atomic a pointer to an integer</td><td> </td><td class="right">           atomic a pointer to an integer</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           val the value to add to *atomic</td><td> </td><td class="right">           val the value to add to *atomic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Returns:</td><td> </td><td class="right">       Returns:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           the value of *atomic before the addition.</td><td> </td><td class="rblock">           the value of *atomic before the addition<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   int32_t qb_atomic_int_get (volatile int32_t QB_GNUC_MAY_ALIAS <span class="delete">* atomic)</span></td><td> </td><td class="rblock">   int32_t qb_atomic_int_get (volatile int32_t QB_GNUC_MAY_ALIAS <span class="insert">*atomic)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Reads the value of the integer pointed to by <span class="delete">atomic.</span> Also acts as a </td><td> </td><td class="rblock">       Reads the value of the integer pointed to by <span class="insert">atomic'.</span> Also acts as a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">memory <span class="delete">barrier.</span></td><td> </td><td class="rblock"> memory <span class="insert">barrier'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Parameters:</td><td> </td><td class="right">       Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           atomic a pointer to an integer</td><td> </td><td class="right">           atomic a pointer to an integer</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Returns:</td><td> </td><td class="right">       Returns:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           the value of atomic</td><td> </td><td class="right">           the value of atomic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   void qb_atomic_int_set (volatile int32_t QB_GNUC_MAY_ALIAS <span class="delete">* atomic, int</span></td><td> </td><td class="rblock">   void qb_atomic_int_set (volatile int32_t QB_GNUC_MAY_ALIAS <span class="insert">*atomic, int3</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">32_t newval)</span></td><td> </td><td class="rblock"><span class="insert">2_tnewval)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Sets the value of the integer pointed to by <span class="delete">atomic.</span> Also acts as a <span class="delete">m</span></td><td> </td><td class="rblock">       Sets the value of the integer pointed to by <span class="insert">atomic'.</span> Also acts as a </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">emory barrier.</span></td><td> </td><td class="rblock"><span class="insert">memory barrier'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Parameters:</td><td> </td><td class="right">       Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           atomic a pointer to an integer</td><td> </td><td class="right">           atomic a pointer to an integer</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           newval the new value</td><td> </td><td class="right">           newval the new value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   int32_t qb_atomic_pointer_compare_and_exchange (volatile void *QB_GNUC_M</td><td> </td><td class="rblock">   int32_t qb_atomic_pointer_compare_and_exchange (volatile void *QB_GNUC_M</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">AY_ALIAS <span class="delete">* atomic,</span> void <span class="delete">* oldval,</span> void <span class="delete">* newval)</span></td><td> </td><td class="rblock">AY_ALIAS <span class="insert">*atomic,</span> void <span class="insert">*oldval,</span> void <span class="insert">*newval)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Compares oldval with the pointer pointed to by atomic and if they ar</td><td> </td><td class="rblock">       Compares oldval with the pointer pointed to by atomic and if they ar</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">e equal, atomically exchanges *atomic with <span class="delete">newval.</span> Also acts as a memory <span class="delete">ba</span></td><td> </td><td class="rblock">e equal, atomically exchanges *atomic with <span class="insert">newval'.</span> Also acts as a memory <span class="insert">b</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">rrier.</span></td><td> </td><td class="rblock"><span class="insert">arrier'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Parameters:</td><td> </td><td class="right">       Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           atomic a pointer to a void*</td><td> </td><td class="right">           atomic a pointer to a void*</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           oldval the assumed old value of *atomic</td><td> </td><td class="right">           oldval the assumed old value of *atomic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           newval the new value of *atomic</td><td> </td><td class="right">           newval the new value of *atomic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Returns:</td><td> </td><td class="right">       Returns:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           QB_TRUE if atomic was equal oldval, else QB_FALSE.</td><td> </td><td class="rblock">           QB_TRUE if atomic was equal oldval, else QB_FALSE<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   void* qb_atomic_pointer_get (volatile void *QB_GNUC_MAY_ALIAS <span class="delete">* atomic)</span></td><td> </td><td class="rblock">   void* qb_atomic_pointer_get (volatile void *QB_GNUC_MAY_ALIAS <span class="insert">*atomic)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Reads the value of the pointer pointed to by <span class="delete">atomic.</span> Also acts as a </td><td> </td><td class="rblock">       Reads the value of the pointer pointed to by <span class="insert">atomic'.</span> Also acts as a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">memory <span class="delete">barrier.</span></td><td> </td><td class="rblock"> memory <span class="insert">barrier'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Parameters:</td><td> </td><td class="right">       Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           atomic a pointer to a void*.</td><td> </td><td class="rblock">           atomic a pointer to a void*<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Returns:</td><td> </td><td class="right">       Returns:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           the value to add to atomic.</td><td> </td><td class="rblock">           the value to add to atomic<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   void qb_atomic_pointer_set (volatile void *QB_GNUC_MAY_ALIAS <span class="delete">* atomic, v</span></td><td> </td><td class="rblock">   void qb_atomic_pointer_set (volatile void *QB_GNUC_MAY_ALIAS <span class="insert">*atomic, vo</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">oid * newval)</span></td><td> </td><td class="rblock"><span class="insert">id *newval)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Sets the value of the pointer pointed to by <span class="delete">atomic.</span> Also acts as a <span class="delete">m</span></td><td> </td><td class="rblock">       Sets the value of the pointer pointed to by <span class="insert">atomic'.</span> Also acts as a </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">emory barrier.</span></td><td> </td><td class="rblock"><span class="insert">memory barrier'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Parameters:</td><td> </td><td class="right">       Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           atomic a pointer to a void*</td><td> </td><td class="right">           atomic a pointer to a void*</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           newval the new value</td><td> </td><td class="right">           newval the new value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Author</td><td> </td><td class="right">Author</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Generated automatically by Doxygen for libqb from the source code.</td><td> </td><td class="rblock">       Generated automatically by Doxygen for libqb from the source code<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Version 0.<span class="delete">4.1                                                              
                                 Mon Jan 31 2011</span>                           
                                                                   qbatomic
.h(3)</td><td> </td><td class="rblock">Version 0.<span class="insert">8.1                                                              
                                 Thu Jan 5 2012 </span>                           
                                                                   qbatomic
.h(3)</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 38 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>91 lines changed or deleted</i></th><th><i> </i></th><th><i>104 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
