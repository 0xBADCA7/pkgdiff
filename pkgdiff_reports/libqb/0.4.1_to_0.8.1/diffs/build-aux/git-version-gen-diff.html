<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux linux-fh59.site 2.6.37.1-1.2-desktop #1 SMP PREEMPT 2011-02-21 10:34:10 +0100 i686 i686 i386 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 3.1.6 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.0 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 0.6.4 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: git-version-gen - git-version-gen</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;git-version-gen&nbsp;</th><th> </th><th>&nbsp;git-version-gen&nbsp;</th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left">#!/bin/sh</td><td> </td><td class="right">#!/bin/sh</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># Print a version string.</td><td> </td><td class="right"># Print a version string.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">scriptversion=201<span class="delete">0-10-13.20</span>; # UTC</td><td> </td><td class="rblock">scriptversion=201<span class="insert">1-02-19.19</span>; # UTC</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"># Copyright (C) 2007-201<span class="delete">0</span> Free Software Foundation, Inc.</td><td> </td><td class="rblock"># Copyright (C) 2007-201<span class="insert">1</span> Free Software Foundation, Inc.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#</td><td> </td><td class="right">#</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># This program is free software: you can redistribute it and/or modify</td><td> </td><td class="right"># This program is free software: you can redistribute it and/or modify</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># it under the terms of the GNU General Public License as published by</td><td> </td><td class="right"># it under the terms of the GNU General Public License as published by</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># the Free Software Foundation; either version 3 of the License, or</td><td> </td><td class="right"># the Free Software Foundation; either version 3 of the License, or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># (at your option) any later version.</td><td> </td><td class="right"># (at your option) any later version.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#</td><td> </td><td class="right">#</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># This program is distributed in the hope that it will be useful,</td><td> </td><td class="right"># This program is distributed in the hope that it will be useful,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td> </td><td class="right"># but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td> </td><td class="right"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># GNU General Public License for more details.</td><td> </td><td class="right"># GNU General Public License for more details.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 83</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 83</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       exit 1;;</td><td> </td><td class="right">       exit 1;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">esac</td><td> </td><td class="right">esac</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">tarball_version_file=$1</td><td> </td><td class="right">tarball_version_file=$1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">tag_sed_script="${2:-s/x/x/}"</td><td> </td><td class="right">tag_sed_script="${2:-s/x/x/}"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">nl='</td><td> </td><td class="right">nl='</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">'</td><td> </td><td class="right">'</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># Avoid meddling by environment variable of the same name.</td><td> </td><td class="right"># Avoid meddling by environment variable of the same name.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">v=</td><td> </td><td class="right">v=</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">v_from_git=</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># First see if there is a tarball-only version file.</td><td> </td><td class="right"># First see if there is a tarball-only version file.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># then try "git describe", then default.</td><td> </td><td class="right"># then try "git describe", then default.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">if test -f $tarball_version_file</td><td> </td><td class="right">if test -f $tarball_version_file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">then</td><td> </td><td class="right">then</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">    v=`cat $tarball_version_file` || <span class="delete">exit 1</span></td><td> </td><td class="rblock">    v=`cat $tarball_version_file` || <span class="insert">v=</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    case $v in</td><td> </td><td class="right">    case $v in</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       *$nl*) v= ;; # reject multi-line output</td><td> </td><td class="rblock">        *$nl*) v= ;; # reject multi-line output</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       [0-9]*) ;;</td><td> </td><td class="rblock">        [0-9]*) ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       *) v= ;;</td><td> </td><td class="rblock">        *) v= ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    esac</td><td> </td><td class="right">    esac</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    test -z "$v" \</td><td> </td><td class="right">    test -z "$v" \</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">&amp;&amp; echo "$0: WARNING: $tarball_version_file seems to be damaged" 1&gt;&amp;
</span>2</td><td> </td><td class="rblock">       <span class="insert"> &amp;&amp; echo "$0: WARNING: $tarball_version_file is missing or damaged" 
1&gt;&amp;</span>2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">fi</td><td> </td><td class="right">fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">if test -n "$v"</td><td> </td><td class="right">if test -n "$v"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">then</td><td> </td><td class="right">then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    : # use $v</td><td> </td><td class="right">    : # use $v</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># Otherwise, if there is at least one git commit involving the working</td><td> </td><td class="right"># Otherwise, if there is at least one git commit involving the working</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># directory, and "git describe" output looks sensible, use that to</td><td> </td><td class="right"># directory, and "git describe" output looks sensible, use that to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># derive a version string.</td><td> </td><td class="right"># derive a version string.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">elif test "`git log -1 --pretty=format:x . 2&gt;&amp;1`" = x \</td><td> </td><td class="right">elif test "`git log -1 --pretty=format:x . 2&gt;&amp;1`" = x \</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    &amp;&amp; v=`git describe --abbrev=4 --match='v*' HEAD 2&gt;/dev/null \</td><td> </td><td class="right">    &amp;&amp; v=`git describe --abbrev=4 --match='v*' HEAD 2&gt;/dev/null \</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         || git describe --abbrev=4 HEAD 2&gt;/dev/null` \</td><td> </td><td class="rblock">         <span class="insert"> </span>|| git describe --abbrev=4 HEAD 2&gt;/dev/null` \</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    &amp;&amp; v=`printf '%s\n' "$v" | sed "$tag_sed_script"` \</td><td> </td><td class="right">    &amp;&amp; v=`printf '%s\n' "$v" | sed "$tag_sed_script"` \</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    &amp;&amp; case $v in</td><td> </td><td class="right">    &amp;&amp; case $v in</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">        v[0-9]*) ;;</td><td> </td><td class="rblock">         v[0-9]*) ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">        *) (exit 1) ;;</td><td> </td><td class="rblock">         *) (exit 1) ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       esac</td><td> </td><td class="right">       esac</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">then</td><td> </td><td class="right">then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    # Is this a new git that lists number of commits since the last</td><td> </td><td class="right">    # Is this a new git that lists number of commits since the last</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    # tag or the previous older version that did not?</td><td> </td><td class="right">    # tag or the previous older version that did not?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    #   Newer: v6.10-77-g0f8faeb</td><td> </td><td class="right">    #   Newer: v6.10-77-g0f8faeb</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    #   Older: v6.10-g0f8faeb</td><td> </td><td class="right">    #   Older: v6.10-g0f8faeb</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    case $v in</td><td> </td><td class="right">    case $v in</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       *-*-*) : git describe is okay three part flavor ;;</td><td> </td><td class="rblock">        *-*-*) : git describe is okay three part flavor ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       *-*)</td><td> </td><td class="rblock">        *-*)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           : git describe is older two part flavor</td><td> </td><td class="rblock">            : git describe is older two part flavor</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           # Recreate the number of commits and rewrite such that the</td><td> </td><td class="rblock">            # Recreate the number of commits and rewrite such that the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           # result is the same as if we were using the newer version</td><td> </td><td class="rblock">            # result is the same as if we were using the newer version</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           # of git describe.</td><td> </td><td class="rblock">            # of git describe.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           vtag=`echo "$v" | sed 's/-.*//'`</td><td> </td><td class="rblock">            vtag=`echo "$v" | sed 's/-.*//'`</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           <span class="delete">numcommits=`git</span> rev-list "$vtag"..HEAD | wc -l`</td><td> </td><td class="rblock">            <span class="insert">commit_list=`git</span> rev-list "$vtag"..HEAD <span class="insert">2&gt;/dev/null` \</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           v=`echo "$v" | sed "s/\(.*\)-\(.*\)/\1-$numcommits-\2/"`;</td><td> </td><td class="rblock"><span class="insert">                || { commit_list=failed;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           ;;</td><td> </td><td class="rblock"><span class="insert">                     echo "$0: WARNING: git rev-list failed" 1&gt;&amp;2; }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">            numcommits=`echo "$commit_list"</span> | wc -l`</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">            v=`echo "$v" | sed "s/\(.*\)-\(.*\)/\1-$numcommits-\2/"`;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">            <span class="insert">test "$commit_list" = failed &amp;&amp; v=UNKNOWN</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">            ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    esac</td><td> </td><td class="right">    esac</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    # Change the first '-' to a '.', so version-comparing tools work proper
ly.</td><td> </td><td class="right">    # Change the first '-' to a '.', so version-comparing tools work proper
ly.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    # Remove the "g" in git describe's output string, to save a byte.</td><td> </td><td class="right">    # Remove the "g" in git describe's output string, to save a byte.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    v=`echo "$v" | sed 's/-/./;s/\(.*\)-g/\1-/'`;</td><td> </td><td class="right">    v=`echo "$v" | sed 's/-/./;s/\(.*\)-g/\1-/'`;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">    v_from_git=1</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">else</td><td> </td><td class="right">else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    v=UNKNOWN</td><td> </td><td class="right">    v=UNKNOWN</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">fi</td><td> </td><td class="right">fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">v=`echo "$v" |sed 's/^v//'`</td><td> </td><td class="right">v=`echo "$v" |sed 's/^v//'`</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"># Don't declare a version "dirty" merely because a time stamp has <span class="delete">changed.</span></td><td> </td><td class="rblock"># <span class="insert">Test whether to append the "-dirty" suffix only if the version</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">git update-index --refresh &gt; /dev/null 2&gt;&amp;1</td><td> </td><td class="rblock"><span class="insert"># string we're using came from git.  I.e., skip the test if it's "UNKNOWN"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"># or if it came from .tarball-version.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">if test -n "$v_from_git"; then</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">  #</span> Don't declare a version "dirty" merely because a time stamp has <span class="insert">changed</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">  git update-index --refresh &gt; /dev/null 2&gt;&amp;1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">dirty=`sh -c 'git</span> diff-index --name-only <span class="delete">HEAD' 2&gt;/dev/null`</span> || dirty=</td><td> </td><td class="rblock">  <span class="insert">dirty=`exec 2&gt;/dev/null;git</span> diff-index --name-only <span class="insert">HEAD`</span> || dirty=</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">case "$dirty" in</td><td> </td><td class="rblock">  case "$dirty" in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">    '') ;;</td><td> </td><td class="rblock">      '') ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">    *) # Append the suffix only if there isn't one already.</td><td> </td><td class="rblock">      *) # Append the suffix only if there isn't one already.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       case $v in</td><td> </td><td class="rblock">          case $v in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         *-dirty) ;;</td><td> </td><td class="rblock">            *-dirty) ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         *) v="$v-dirty" ;;</td><td> </td><td class="rblock">            *) v="$v-dirty" ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       esac ;;</td><td> </td><td class="rblock">          esac ;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">esac</td><td> </td><td class="rblock">  esac</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">fi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># Omit the trailing newline, so that m4_esyscmd can use the result directly
.</td><td> </td><td class="right"># Omit the trailing newline, so that m4_esyscmd can use the result directly
.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">echo "$v" | tr -d "$nl"</td><td> </td><td class="right">echo "$v" | tr -d "$nl"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># Local variables:</td><td> </td><td class="right"># Local variables:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># eval: (add-hook 'write-file-hooks 'time-stamp)</td><td> </td><td class="right"># eval: (add-hook 'write-file-hooks 'time-stamp)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># time-stamp-start: "scriptversion="</td><td> </td><td class="right"># time-stamp-start: "scriptversion="</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># time-stamp-format: "%:y-%02m-%02d.%02H"</td><td> </td><td class="right"># time-stamp-format: "%:y-%02m-%02d.%02H"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># time-stamp-time-zone: "UTC"</td><td> </td><td class="right"># time-stamp-time-zone: "UTC"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># time-stamp-end: "; # UTC"</td><td> </td><td class="right"># time-stamp-end: "; # UTC"</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 12 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>31 lines changed or deleted</i></th><th><i> </i></th><th><i>43 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
