<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux aponomarenko 3.2.0-29-generic #46-Ubuntu SMP Fri Jul 27 17:03:23 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 3.1.8 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.2 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 0.6.5 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: qbutil.h.3 - qbutil.h.3</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;qbutil.h.3&nbsp;</th><th> </th><th>&nbsp;qbutil.h.3&nbsp;</th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left">qbutil.h(3)                                                                
                                      libqb                                
                                                                     qbutil
.h(3)</td><td> </td><td class="right">qbutil.h(3)                                                                
                                      libqb                                
                                                                     qbutil
.h(3)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">NAME</td><td> </td><td class="right">NAME</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qbutil.h -</td><td> </td><td class="right">       qbutil.h -</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">SYNOPSIS</td><td> </td><td class="right">SYNOPSIS</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       #include &lt;pthread.h&gt;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       #include &lt;stdint.h&gt;</td><td> </td><td class="right">       #include &lt;stdint.h&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       #include &lt;unistd.h&gt;</td><td> </td><td class="right">       #include &lt;unistd.h&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Typedefs</td><td> </td><td class="right">   Typedefs</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       typedef struct qb_thread_lock_s qb_thread_lock_t</td><td> </td><td class="right">       typedef struct qb_thread_lock_s qb_thread_lock_t</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       typedef void(* qb_util_log_fn_t )(const char *file_name, int32_t fil
e_line, int32_t severity, const char *msg)</td><td> </td><td class="right">       typedef void(* qb_util_log_fn_t )(const char *file_name, int32_t fil
e_line, int32_t severity, const char *msg)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       typedef struct qb_util_stopwatch qb_util_stopwatch_t</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Enumerations</td><td> </td><td class="right">   Enumerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       enum qb_thread_lock_type_t { QB_THREAD_LOCK_SHORT, QB_THREAD_LOCK_LO
NG }</td><td> </td><td class="right">       enum qb_thread_lock_type_t { QB_THREAD_LOCK_SHORT, QB_THREAD_LOCK_LO
NG }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           QB_THREAD_LOCK_SHORT is a short term lock (spinlock if available
 on your system) QB_THREAD_LOCK_LONG is a mutex.</td><td> </td><td class="rblock">           QB_THREAD_LOCK_SHORT is a short term lock (spinlock if available
 on your system) QB_THREAD_LOCK_LONG is a mutex<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Functions</td><td> </td><td class="right">   Functions</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qb_thread_lock_t * qb_thread_lock_create (qb_thread_lock_type_t type
)</td><td> </td><td class="right">       qb_thread_lock_t * qb_thread_lock_create (qb_thread_lock_type_t type
)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Create a new lock of the given type.</td><td> </td><td class="rblock">           Create a new lock of the given type<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int32_t qb_thread_lock (qb_thread_lock_t *tl)</td><td> </td><td class="right">       int32_t qb_thread_lock (qb_thread_lock_t *tl)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Calls either pthread_mutex_lock() or pthread_spin_lock().</td><td> </td><td class="rblock">           Calls either pthread_mutex_lock() or pthread_spin_lock()<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int32_t qb_thread_trylock (qb_thread_lock_t *tl)</td><td> </td><td class="right">       int32_t qb_thread_trylock (qb_thread_lock_t *tl)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Calls either pthread_mutex_trylock() or pthread_spin_trylock().</td><td> </td><td class="rblock">           Calls either pthread_mutex_trylock() or pthread_spin_trylock()<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int32_t qb_thread_unlock (qb_thread_lock_t *tl)</td><td> </td><td class="right">       int32_t qb_thread_unlock (qb_thread_lock_t *tl)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Calls either pthread_mutex_unlock() or pthread_spin_unlock.</td><td> </td><td class="rblock">           Calls either pthread_mutex_unlock() or pthread_spin_unlock<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int32_t qb_thread_lock_destroy (qb_thread_lock_t *tl)</td><td> </td><td class="right">       int32_t qb_thread_lock_destroy (qb_thread_lock_t *tl)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Calls either pthread_mutex_destro() or pthread_spin_destroy().</td><td> </td><td class="rblock">           Calls either pthread_mutex_destro() or pthread_spin_destroy()<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void qb_util_set_log_function (qb_util_log_fn_t fn)</td><td> </td><td class="right">       void qb_util_set_log_function (qb_util_log_fn_t fn)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Use this function to output libqb internal log message as you wi
sh.</td><td> </td><td class="rblock">           Use this function to output libqb internal log message as you wi
sh<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void qb_timespec_add_ms (struct timespec *ts, int32_t ms)</td><td> </td><td class="right">       void qb_timespec_add_ms (struct timespec *ts, int32_t ms)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Add milliseconds onto the timespec.</td><td> </td><td class="rblock">           Add milliseconds onto the timespec<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       uint64_t qb_util_nano_current_get (void)</td><td> </td><td class="right">       uint64_t qb_util_nano_current_get (void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Get the current number of nano secounds produced by the systems 
incrementing clock (CLOCK_MONOTOMIC if available).</td><td> </td><td class="rblock">           Get the current number of nano secounds produced by the systems 
incrementing clock (CLOCK_MONOTOMIC if available)<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       uint64_t qb_util_nano_monotonic_hz (void)</td><td> </td><td class="right">       uint64_t qb_util_nano_monotonic_hz (void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Get the frequence of the clock used in qb_util_nano_current_get(
).</td><td> </td><td class="rblock">           Get the frequence of the clock used in qb_util_nano_current_get(
)<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       uint64_t qb_util_nano_from_epoch_get (void)</td><td> </td><td class="right">       uint64_t qb_util_nano_from_epoch_get (void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Get the time in nano seconds since epoch.</td><td> </td><td class="rblock">           Get the time in nano seconds since epoch<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void qb_util_timespec_from_epoch_get (struct timespec *ts)</td><td> </td><td class="right">       void qb_util_timespec_from_epoch_get (struct timespec *ts)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           Get the time in timespec since <span class="delete">epoch.</span></td><td> </td><td class="rblock">           Get the time in timespec since <span class="insert">epoch'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       char * qb_strerror_r (int errnum, char *buf, size_t buflen)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">           strerror_r replacement'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       qb_util_stopwatch_t * qb_util_stopwatch_create (void)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">           Create a Stopwatch (to time operations)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void qb_util_stopwatch_free (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">           Free the stopwatch'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void qb_util_stopwatch_start (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">           Start the stopwatch'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void qb_util_stopwatch_stop (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">           Stop the stopwatch'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       uint64_t qb_util_stopwatch_us_elapsed_get (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">           Get the elapsed time in micro seconds'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       float qb_util_stopwatch_sec_elapsed_get (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">           Get the elapsed time in seconds'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Detailed Description</td><td> </td><td class="right">Detailed Description</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Author:</td><td> </td><td class="right">       Author:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           Angus Salkeld &lt;asalkeld@redhat.com&gt;</td><td> </td><td class="right">           Angus Salkeld &lt;asalkeld@redhat.com&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       These are some convience functions used throughout libqb.</td><td> </td><td class="rblock">       These are some convience functions used throughout libqb<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Typedef Documentation</td><td> </td><td class="right">Typedef Documentation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   typedef struct qb_thread_lock_s qb_thread_lock_t</td><td> </td><td class="right">   typedef struct qb_thread_lock_s qb_thread_lock_t</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   typedef void(* qb_util_log_fn_t)(const char *file_name, int32_t file_lin
e, int32_t severity, const char *msg)</td><td> </td><td class="right">   typedef void(* qb_util_log_fn_t)(const char *file_name, int32_t file_lin
e, int32_t severity, const char *msg)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   typedef struct qb_util_stopwatch qb_util_stopwatch_t</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Enumeration Type Documentation</td><td> </td><td class="right">Enumeration Type Documentation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   enum qb_thread_lock_type_t</td><td> </td><td class="right">   enum qb_thread_lock_type_t</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       QB_THREAD_LOCK_SHORT is a short term lock (spinlock if available on 
your system) QB_THREAD_LOCK_LONG is a mutex.</td><td> </td><td class="rblock">       QB_THREAD_LOCK_SHORT is a short term lock (spinlock if available on 
your system) QB_THREAD_LOCK_LONG is a mutex<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Enumerator:</td><td> </td><td class="right">       Enumerator:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QB_THREAD_LOCK_SHORT</td><td> </td><td class="right">       QB_THREAD_LOCK_SHORT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QB_THREAD_LOCK_LONG</td><td> </td><td class="right">       QB_THREAD_LOCK_LONG</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Function Documentation</td><td> </td><td class="right">Function Documentation</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">int32_t qb_thread_lock (qb_thread_lock_t * tl)</span></td><td> </td><td class="rblock">   <span class="insert">char* qb_strerror_r (interrnum, char *buf, size_tbuflen)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       Calls either pthread_mutex_lock() or pthread_spin_lock().</span></td><td> </td><td class="rblock"><span class="insert">       strerror_r replacement'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   qb_thread_lock_t* qb_thread_lock_create <span class="delete">(qb_thread_lock_type_t type)</span></td><td> </td><td class="rblock">   <span class="insert">int32_t qb_thread_lock (qb_thread_lock_t *tl)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Create a new lock of the given <span class="delete">type.</span> Parameters:</td><td> </td><td class="rblock"><span class="insert">       Calls either pthread_mutex_lock() or pthread_spin_lock()'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   qb_thread_lock_t* qb_thread_lock_create <span class="insert">(qb_thread_lock_type_ttype)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       Create a new lock of the given <span class="insert">type'.</span> Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           type QB_THREAD_LOCK_SHORT == spinlock (where available, else mut
ex) QB_THREAD_LOCK_LONG == mutex</td><td> </td><td class="right">           type QB_THREAD_LOCK_SHORT == spinlock (where available, else mut
ex) QB_THREAD_LOCK_LONG == mutex</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Returns:</td><td> </td><td class="right">       Returns:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           pointer to qb_thread_lock_type_t or NULL on error.</td><td> </td><td class="rblock">           pointer to qb_thread_lock_type_t or NULL on error<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   int32_t qb_thread_lock_destroy (qb_thread_lock_t <span class="delete">* tl)</span></td><td> </td><td class="rblock">   int32_t qb_thread_lock_destroy (qb_thread_lock_t <span class="insert">*tl)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Calls either pthread_mutex_destro() or <span class="delete">pthread_spin_destroy().</span></td><td> </td><td class="rblock">       Calls either pthread_mutex_destro() or <span class="insert">pthread_spin_destroy()'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   int32_t qb_thread_trylock (qb_thread_lock_t <span class="delete">* tl)</span></td><td> </td><td class="rblock">   int32_t qb_thread_trylock (qb_thread_lock_t <span class="insert">*tl)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Calls either pthread_mutex_trylock() or <span class="delete">pthread_spin_trylock().</span></td><td> </td><td class="rblock">       Calls either pthread_mutex_trylock() or <span class="insert">pthread_spin_trylock()'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   int32_t qb_thread_unlock (qb_thread_lock_t <span class="delete">* tl)</span></td><td> </td><td class="rblock">   int32_t qb_thread_unlock (qb_thread_lock_t <span class="insert">*tl)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Calls either pthread_mutex_unlock() or <span class="delete">pthread_spin_unlock.</span></td><td> </td><td class="rblock">       Calls either pthread_mutex_unlock() or <span class="insert">pthread_spin_unlock'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   void qb_timespec_add_ms (struct timespec <span class="delete">* ts, int32_t ms)</span></td><td> </td><td class="rblock">   void qb_timespec_add_ms (struct timespec <span class="insert">*ts, int32_tms)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Add milliseconds onto the <span class="delete">timespec.</span> Parameters:</td><td> </td><td class="rblock">       Add milliseconds onto the <span class="insert">timespec'.</span> Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           ts the ts to add to</td><td> </td><td class="right">           ts the ts to add to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           ms the amount of milliseconds to increment ts</td><td> </td><td class="right">           ms the amount of milliseconds to increment ts</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   uint64_t qb_util_nano_current_get (void)</td><td> </td><td class="right">   uint64_t qb_util_nano_current_get (void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Get the current number of nano secounds produced by the systems incr
ementing clock (CLOCK_MONOTOMIC if available).</td><td> </td><td class="rblock">       Get the current number of nano secounds produced by the systems incr
ementing clock (CLOCK_MONOTOMIC if available)<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   uint64_t qb_util_nano_from_epoch_get (void)</td><td> </td><td class="right">   uint64_t qb_util_nano_from_epoch_get (void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Get the time in nano seconds since epoch.</td><td> </td><td class="rblock">       Get the time in nano seconds since epoch<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   uint64_t qb_util_nano_monotonic_hz (void)</td><td> </td><td class="right">   uint64_t qb_util_nano_monotonic_hz (void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Get the frequence of the clock used in <span class="delete">qb_util_nano_current_get().</span></td><td> </td><td class="rblock">       Get the frequence of the clock used in <span class="insert">qb_util_nano_current_get()'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   void qb_util_set_log_function (qb_util_log_fn_tfn)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Use this function to output libqb internal log message as you wish'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   qb_util_stopwatch_t* qb_util_stopwatch_create (void)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Create a Stopwatch (to time operations)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   void qb_util_stopwatch_free (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Free the stopwatch'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   float qb_util_stopwatch_sec_elapsed_get (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Get the elapsed time in seconds'. (it must have been started and sto</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">pped)'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   void qb_util_stopwatch_start (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Start the stopwatch'. This also acts as a reset'. Essentially it set</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">s the starting time'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   void qb_util_stopwatch_stop (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Stop the stopwatch'. This just allows you to get the elapsed time'. </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">So you can call this multiple times'. Do not call qb_util_stopwatch_start()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> unless you want to reset the stopwatch'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">void qb_util_set_log_function (qb_util_log_fn_t fn)</span></td><td> </td><td class="rblock">   <span class="insert">uint64_t qb_util_stopwatch_us_elapsed_get (qb_util_stopwatch_t *sw)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       Use this function to output libqb internal log message as you wish.</span></td><td> </td><td class="rblock"><span class="insert">       Get the elapsed time in micro seconds'. (it must have been started a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">nd stopped)'.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   void qb_util_timespec_from_epoch_get (struct timespec <span class="delete">* ts)</span></td><td> </td><td class="rblock">   void qb_util_timespec_from_epoch_get (struct timespec <span class="insert">*ts)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Get the time in timespec since <span class="delete">epoch.</span> Parameters:</td><td> </td><td class="rblock">       Get the time in timespec since <span class="insert">epoch'.</span> Parameters:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           ts (out) the timespec</td><td> </td><td class="right">           ts (out) the timespec</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Returns:</td><td> </td><td class="right">       Returns:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           status (0 == ok, -errno on error)</td><td> </td><td class="right">           status (0 == ok, -errno on error)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Author</td><td> </td><td class="right">Author</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Generated automatically by Doxygen for libqb from the source code.</td><td> </td><td class="rblock">       Generated automatically by Doxygen for libqb from the source code<span class="insert">'</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Version 0.<span class="delete">4.1                                                              
                                 Mon Jan 31 2011</span>                           
                                                                     qbutil
.h(3)</td><td> </td><td class="rblock">Version 0.<span class="insert">8.1                                                              
                                 Thu Jan 5 2012 </span>                           
                                                                     qbutil
.h(3)</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 31 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>35 lines changed or deleted</i></th><th><i> </i></th><th><i>78 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
