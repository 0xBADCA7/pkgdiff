<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux aponomarenko 3.0.0-14-generic #23-Ubuntu SMP Mon Nov 21 20:28:43 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 3.1.8 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.0 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 0.6.5 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: install-sh - install-sh</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;install-sh&nbsp;</th><th> </th><th>&nbsp;install-sh&nbsp;</th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left">#!/bin/sh</td><td> </td><td class="right">#!/bin/sh</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># install - install a program, script, or datafile</td><td> </td><td class="right"># install - install a program, script, or datafile</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">scriptversion=20<span class="delete">09-04-28</span>.21; # UTC</td><td> </td><td class="rblock">scriptversion=20<span class="insert">11-01-19</span>.21; # UTC</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># This originates from X11R5 (mit/util/scripts/install.sh), which was</td><td> </td><td class="right"># This originates from X11R5 (mit/util/scripts/install.sh), which was</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># later released in X11R6 (xc/config/util/install.sh) with the</td><td> </td><td class="right"># later released in X11R6 (xc/config/util/install.sh) with the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># following copyright and license.</td><td> </td><td class="right"># following copyright and license.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#</td><td> </td><td class="right">#</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># Copyright (C) 1994 X Consortium</td><td> </td><td class="right"># Copyright (C) 1994 X Consortium</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#</td><td> </td><td class="right">#</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># Permission is hereby granted, free of charge, to any person obtaining a c
opy</td><td> </td><td class="right"># Permission is hereby granted, free of charge, to any person obtaining a c
opy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># of this software and associated documentation files (the "Software"), to</td><td> </td><td class="right"># of this software and associated documentation files (the "Software"), to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"># deal in the Software without restriction, including without limitation th
e</td><td> </td><td class="right"># deal in the Software without restriction, including without limitation th
e</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 159</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 159</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           exit 1;;</td><td> </td><td class="right">           exit 1;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       esac</td><td> </td><td class="right">       esac</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       shift;;</td><td> </td><td class="right">       shift;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    -o) chowncmd="$chownprog $2"</td><td> </td><td class="right">    -o) chowncmd="$chownprog $2"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       shift;;</td><td> </td><td class="right">       shift;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    -s) stripcmd=$stripprog;;</td><td> </td><td class="right">    -s) stripcmd=$stripprog;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    -t) dst_arg=$2</td><td> </td><td class="right">    -t) dst_arg=$2</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert"># Protect names problematic for `test' and other utilities.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       case $dst_arg in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">         -* | [=\(\)!]) dst_arg=./$dst_arg;;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       esac</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       shift;;</td><td> </td><td class="right">       shift;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    -T) no_target_directory=true;;</td><td> </td><td class="right">    -T) no_target_directory=true;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    --version) echo "$0 $scriptversion"; exit $?;;</td><td> </td><td class="right">    --version) echo "$0 $scriptversion"; exit $?;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    --)        shift</td><td> </td><td class="right">    --)        shift</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       break;;</td><td> </td><td class="right">       break;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    -*)        echo "$0: invalid option: $1" &gt;&amp;2</td><td> </td><td class="right">    -*)        echo "$0: invalid option: $1" &gt;&amp;2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 189</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 193</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  # Otherwise, the last argument is the destination.  Remove it from $@.</td><td> </td><td class="right">  # Otherwise, the last argument is the destination.  Remove it from $@.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  for arg</td><td> </td><td class="right">  for arg</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  do</td><td> </td><td class="right">  do</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    if test -n "$dst_arg"; then</td><td> </td><td class="right">    if test -n "$dst_arg"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      # $@ is not empty: it contains at least $arg.</td><td> </td><td class="right">      # $@ is not empty: it contains at least $arg.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      set fnord "$@" "$dst_arg"</td><td> </td><td class="right">      set fnord "$@" "$dst_arg"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      shift # fnord</td><td> </td><td class="right">      shift # fnord</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    fi</td><td> </td><td class="right">    fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    shift # arg</td><td> </td><td class="right">    shift # arg</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    dst_arg=$arg</td><td> </td><td class="right">    dst_arg=$arg</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">    <span class="insert"># Protect names problematic for `test' and other utilities.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">    case $dst_arg in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      -* | [=\(\)!]) dst_arg=./$dst_arg;;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">    esac</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  done</td><td> </td><td class="right">  done</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">fi</td><td> </td><td class="right">fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">if test $# -eq 0; then</td><td> </td><td class="right">if test $# -eq 0; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  if test -z "$dir_arg"; then</td><td> </td><td class="right">  if test -z "$dir_arg"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    echo "$0: no input file specified." &gt;&amp;2</td><td> </td><td class="right">    echo "$0: no input file specified." &gt;&amp;2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    exit 1</td><td> </td><td class="right">    exit 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  fi</td><td> </td><td class="right">  fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  # It's OK to call `install-sh -d' without argument.</td><td> </td><td class="right">  # It's OK to call `install-sh -d' without argument.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  # This can happen when creating conditional directories.</td><td> </td><td class="right">  # This can happen when creating conditional directories.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  exit 0</td><td> </td><td class="right">  exit 0</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">fi</td><td> </td><td class="right">fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">if test -z "$dir_arg"; then</td><td> </td><td class="right">if test -z "$dir_arg"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">  trap <span class="delete">'(exit $?); exit'</span> 1 2 13 15</td><td> </td><td class="rblock">  <span class="insert">do_exit='(exit $ret); exit $ret'</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">  trap <span class="insert">"ret=129; $do_exit"</span> 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">  <span class="insert">trap "ret=130; $do_exit"</span> 2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">  <span class="insert">trap "ret=141; $do_exit"</span> 13</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">  <span class="insert">trap "ret=143; $do_exit"</span> 15</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  # Set umask so as not to create temps with too-generous modes.</td><td> </td><td class="right">  # Set umask so as not to create temps with too-generous modes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  # However, 'strip' requires both read and write access to temps.</td><td> </td><td class="right">  # However, 'strip' requires both read and write access to temps.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  case $mode in</td><td> </td><td class="right">  case $mode in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    # Optimize common cases.</td><td> </td><td class="right">    # Optimize common cases.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    *644) cp_umask=133;;</td><td> </td><td class="right">    *644) cp_umask=133;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    *755) cp_umask=22;;</td><td> </td><td class="right">    *755) cp_umask=22;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    *[0-7])</td><td> </td><td class="right">    *[0-7])</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      if test -z "$stripcmd"; then</td><td> </td><td class="right">      if test -z "$stripcmd"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 231</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 243</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       u_plus_rw=</td><td> </td><td class="right">       u_plus_rw=</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      else</td><td> </td><td class="right">      else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       u_plus_rw=,u+rw</td><td> </td><td class="right">       u_plus_rw=,u+rw</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      fi</td><td> </td><td class="right">      fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      cp_umask=$mode$u_plus_rw;;</td><td> </td><td class="right">      cp_umask=$mode$u_plus_rw;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  esac</td><td> </td><td class="right">  esac</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">fi</td><td> </td><td class="right">fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">for src</td><td> </td><td class="right">for src</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">do</td><td> </td><td class="right">do</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">  # Protect names <span class="delete">starting with `-'</span>.</td><td> </td><td class="rblock">  # Protect names <span class="insert">problematic for `test' and other utilities</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  case $src in</td><td> </td><td class="right">  case $src in</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">    -*) src=./$src;;</td><td> </td><td class="rblock">    -*<span class="insert"> | [=\(\)!]</span>) src=./$src;;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  esac</td><td> </td><td class="right">  esac</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  if test -n "$dir_arg"; then</td><td> </td><td class="right">  if test -n "$dir_arg"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    dst=$src</td><td> </td><td class="right">    dst=$src</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    dstdir=$dst</td><td> </td><td class="right">    dstdir=$dst</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    test -d "$dstdir"</td><td> </td><td class="right">    test -d "$dstdir"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    dstdir_status=$?</td><td> </td><td class="right">    dstdir_status=$?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">  else</td><td> </td><td class="right">  else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    # Waiting for this to be detected by the "$cpprog $src $dsttmp" command</td><td> </td><td class="right">    # Waiting for this to be detected by the "$cpprog $src $dsttmp" command</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 255</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 267</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    # if $src (and thus $dsttmp) contains '*'.</td><td> </td><td class="right">    # if $src (and thus $dsttmp) contains '*'.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    if test ! -f "$src" &amp;&amp; test ! -d "$src"; then</td><td> </td><td class="right">    if test ! -f "$src" &amp;&amp; test ! -d "$src"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      echo "$0: $src does not exist." &gt;&amp;2</td><td> </td><td class="right">      echo "$0: $src does not exist." &gt;&amp;2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      exit 1</td><td> </td><td class="right">      exit 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    fi</td><td> </td><td class="right">    fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    if test -z "$dst_arg"; then</td><td> </td><td class="right">    if test -z "$dst_arg"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      echo "$0: no destination specified." &gt;&amp;2</td><td> </td><td class="right">      echo "$0: no destination specified." &gt;&amp;2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      exit 1</td><td> </td><td class="right">      exit 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    fi</td><td> </td><td class="right">    fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                                           </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    dst=$dst_arg</td><td> </td><td class="right">    dst=$dst_arg</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">    <span class="delete"># Protect names starting with `-'.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">    case $dst in</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">      -*) dst=./$dst;;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">    esac</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    # If destination is a directory, append the input filename; won't work</td><td> </td><td class="right">    # If destination is a directory, append the input filename; won't work</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    # if double slashes aren't ignored.</td><td> </td><td class="right">    # if double slashes aren't ignored.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    if test -d "$dst"; then</td><td> </td><td class="right">    if test -d "$dst"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      if test -n "$no_target_directory"; then</td><td> </td><td class="right">      if test -n "$no_target_directory"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       echo "$0: $dst_arg: Is a directory" &gt;&amp;2</td><td> </td><td class="right">       echo "$0: $dst_arg: Is a directory" &gt;&amp;2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       exit 1</td><td> </td><td class="right">       exit 1</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      fi</td><td> </td><td class="right">      fi</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      dstdir=$dst</td><td> </td><td class="right">      dstdir=$dst</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      dst=$dstdir/`basename "$src"`</td><td> </td><td class="right">      dst=$dstdir/`basename "$src"`</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 388</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 395</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      )</td><td> </td><td class="right">      )</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    then :</td><td> </td><td class="right">    then :</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">    else</td><td> </td><td class="right">    else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      # The umask is ridiculous, or mkdir does not conform to POSIX,</td><td> </td><td class="right">      # The umask is ridiculous, or mkdir does not conform to POSIX,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      # or it failed possibly due to a race condition.  Create the</td><td> </td><td class="right">      # or it failed possibly due to a race condition.  Create the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      # directory the slow way, step by step, checking for races as we go.</td><td> </td><td class="right">      # directory the slow way, step by step, checking for races as we go.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      case $dstdir in</td><td> </td><td class="right">      case $dstdir in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       /*) prefix='/';;</td><td> </td><td class="right">       /*) prefix='/';;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">-</span>*) prefix='./';;</td><td> </td><td class="rblock">       <span class="insert">[-=\(\)!]</span>*) prefix='./';;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       *)  prefix='';;</td><td> </td><td class="right">       *)  prefix='';;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      esac</td><td> </td><td class="right">      esac</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      eval "$initialize_posix_glob"</td><td> </td><td class="right">      eval "$initialize_posix_glob"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      oIFS=$IFS</td><td> </td><td class="right">      oIFS=$IFS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      IFS=/</td><td> </td><td class="right">      IFS=/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      $posix_glob set -f</td><td> </td><td class="right">      $posix_glob set -f</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      set fnord $dstdir</td><td> </td><td class="right">      set fnord $dstdir</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      shift</td><td> </td><td class="right">      shift</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      $posix_glob set +f</td><td> </td><td class="right">      $posix_glob set +f</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      IFS=$oIFS</td><td> </td><td class="right">      IFS=$oIFS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      prefixes=</td><td> </td><td class="right">      prefixes=</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      for d</td><td> </td><td class="right">      for d</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      do</td><td> </td><td class="right">      do</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       test <span class="delete">-z "$d"</span> &amp;&amp; continue</td><td> </td><td class="rblock">       test <span class="insert">X"$d" = X</span> &amp;&amp; continue</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       prefix=$prefix$d</td><td> </td><td class="right">       prefix=$prefix$d</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if test -d "$prefix"; then</td><td> </td><td class="right">       if test -d "$prefix"; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         prefixes=</td><td> </td><td class="right">         prefixes=</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         if $posix_mkdir; then</td><td> </td><td class="right">         if $posix_mkdir; then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           (umask=$mkdir_umask &amp;&amp;</td><td> </td><td class="right">           (umask=$mkdir_umask &amp;&amp;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">            $doit_exec $mkdirprog $mkdir_mode -p -- "$dstdir") &amp;&amp; break</td><td> </td><td class="right">            $doit_exec $mkdirprog $mkdir_mode -p -- "$dstdir") &amp;&amp; break</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           # Don't fail if two instances are running concurrently.</td><td> </td><td class="right">           # Don't fail if two instances are running concurrently.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           test -d "$prefix" || exit 1</td><td> </td><td class="right">           test -d "$prefix" || exit 1</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 10 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>11 lines changed or deleted</i></th><th><i> </i></th><th><i>18 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
